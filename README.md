# <img src="https://raw.githubusercontent.com/johnfli/Pentest-Insights/master/src/main/webapp/images/logos/logo.png" width="48" height="48" title="Pentest Insights Logo"> Pentest Insights
#### CYBER SECURITY TOOL

**Pentest Insights** is a **Cyber Security Insights Tool** developed for the purposes of the developer's diploma thesis on 
Electrical & Computers Engineering. The tool offers **Security Testing** through **Functional Testing** and is an 
**end-to-end java project**.

## Tech Information

The frontend is built with the [Vaadin Framework](https://vaadin.com/) which makes it a
Progressive Web App, suitable both for desktop and mobile devices. On the backend side of the project we have
[Spring Boot](https://spring.io/projects/spring-boot) 
for the repositories, entities and services combined with [Maven](https://maven.apache.org/) for Functional Testing 
execution. 

To be more precise, Maven is embedded into the application through 
[Maven Embedder](https://maven.apache.org/ref/3.6.3/maven-embedder/index.html) 
in order to execute a [Selenium Java](https://www.selenium.dev/documentation/en/) project (located into the 
[security-project](https://github.com/johnfli/Pentest-Insights/tree/master/security-project) folder) with the desired 
functional tests.
The browser created for the functional tests' execution proxies through an [OWASP ZAP](https://www.zaproxy.org/) instance.
As soon as Functional Testing is completed, the project drives the [OWASP ZAP](https://www.zaproxy.org/) instance through
it's [Java API](https://github.com/zaproxy/zap-api-java) in order to perform several types of Crawling and Scanning on 
the targeted web application so that the most obvious security vulnerabilities are exploited and reported. The results
are presented in graphical and comparative charts, as well as analytical grids. 

As for the database, an embedded 
[H2 Database](https://www.h2database.com/html/main.html) is used in order to provide more portability. This makes the 
whole project standalone, which means that given the .jar into the root folder it should be able to run on any machine with
the single requirement of a [Java](https://openjdk.java.net/) JDK or JRE installed.
Note that the project has been pre-configured to connect to a [MySQL Database](https://www.mysql.com/) as well, thus 
switching to that configuration is as easy as uncommenting [a couple of lines](https://github.com/johnfli/Pentest-Insights/blob/master/src/main/resources/application.properties#L6-L7) 
and commenting out [a couple of others](https://github.com/johnfli/Pentest-Insights/blob/master/src/main/resources/application.properties#L10-L16).
  
## <img src="https://maven.apache.org/images/maven-logo-black-on-white.png" width="95" height="24" title="Maven Logo"> Running Pentest Insights in Development Mode

Open a terminal into the root folder of the project and instruct the command:

```
mvn spring-boot:run
```

Wait for the application to start and point your browser at http://localhost:8000/ to view the application.

If you want to the package the application into an executable jar that can run on any machine open a terminal into the 
root folder of the project and instruct the command:

```
mvn clean package
```

Wait for the package to complete and copy the .jar file from the target folder into the root folder, open a terminal
into the root folder and type the command `java -jar pentest-insights-2.0-SNAPSHOT.jar`.
 
Wait for the application to start and point your browser at http://localhost:8000/ to view the application.

## <img src="https://maven.apache.org/images/maven-logo-black-on-white.png" width="95" height="24" title="Maven Logo"> Running Pentest Insights in Production Mode

Open a terminal into the root folder of the project and instruct the command:
```
mvn spring-boot:run -Pproduction
```

The default mode when the application is built or started is 'development'. The 'production' mode is turned on by 
passing the `production` argument when building or starting the app.

If you want to the package the application into an executable jar that can run on any machine in production mode open a 
terminal into the root folder of the project and instruct the command:

```
mvn clean package -Pproduction
```

Wait for the package to complete and copy the .jar file from the target folder into the root folder, open a terminal
into the root folder and type the command `java -jar pentest-insights-2.0-SNAPSHOT.jar`.
 
Wait for the application to start and point your browser at http://localhost:8000/ to view the application.

Note that if you switch between running in production mode and development mode, you need to instruct an
```
mvn clean
```
before running in the other mode.

## <img src="https://www.docker.com/sites/default/files/d8/2019-07/Moby-logo.png" width="34" height="24" title="Docker Logo"> Running Pentest Insights on Docker

Open a terminal into the root folder of the project and instruct the command:

```
docker-compose up
```

Docker will fetch all the needed images in order to build the network. This will take some time the first time, so better 
grab a cup of coffee.

When you are done simply hit `Ctrl + C` and optionally clean the created containers up with: 

```
docker-compose down
```

## <img src="https://www.docker.com/sites/default/files/d8/2019-07/Moby-logo.png" width="34" height="24" title="Docker Logo"> Building Pentest Insights on Docker

In case you want to edit the code of the application and run the updated project into Docker all you have to do is to
uncomment line [83](https://github.com/johnfli/Pentest-Insights/blob/c230ae037f4d6e32d5fa5374883d52ef6d1c4340/docker-compose.yml#L83) 
of the [docker-compose](docker-compose.yml) file and then open a terminal into the root folder of the project and instruct 
the command:

```
docker-compose build
```

Wait for the build to complete and instruct the command:

```
docker-compose up
```

Again when you are done simply hit `Ctrl + C` and optionally clean the created containers up with: 

```
docker-compose down
```

## <img src="https://www.docker.com/sites/default/files/d8/2019-07/Moby-logo.png" width="34" height="24" title="Docker Logo"> Building and Running Pentest Insights on Docker Standalone

In case you want to build and run **Pentest Insights** on **Docker** without the whole network that comes along with the 
[docker-compose](docker-compose.yml) file, open a terminal into the root folder of the project and instruct the 
commands:

```
docker build -t pentest-insights:<any-tag-you-may-like>

docker run --network host --add-host="owasp-bwa:<ip-of-target-app-VM> --rm --name pentest-insights -i pentest-insights:<the-tag-you-entered-when-building>
```

Then you can enter the container through a bash shell if you like as well, by simply instructing the command:
```
docker exec -it pentest-insights /bin/bash
```


## More Information

- [x] On how to use the application to request a scanning

    [![Pentest Insights: Requesting a Scanning Video](http://img.youtube.com/vi/xocs-Ld6Epg/0.jpg)](http://www.youtube.com/watch?v=xocs-Ld6Epg "Pentest Insights: Requesting a Scanning")

- [x] On how to interpret your scanning results

    [![Pentest Insights: Getting the Results Video](http://img.youtube.com/vi/v8sgpbzlVJc/0.jpg)](http://www.youtube.com/watch?v=v8sgpbzlVJc "Pentest Insights: Getting the Results")

## License
A paid Pro or Prime subscription is required for creating a new software project from this starter, but due to the 
[Vaadin Student Program](https://vaadin.com/blog/vaadin-pro-available-for-students) all students are offered the Pro 
subscription for free. After its creation, results can be used, developed and distributed freely, but licenses for the 
used commercial components are required during development. The starter or its parts cannot be redistributed as a 
code example or template.

For full terms, see LICENSE
