package com.business.starter.ui.components.detailsdrawer;

import com.vaadin.flow.component.ClickEvent;
import com.vaadin.flow.component.ComponentEventListener;
import com.vaadin.flow.component.button.Button;
import com.vaadin.flow.component.icon.VaadinIcon;
import com.vaadin.flow.shared.Registration;
import com.business.starter.ui.components.FlexBoxLayout;
import com.business.starter.ui.layout.size.Horizontal;
import com.business.starter.ui.layout.size.Right;
import com.business.starter.ui.layout.size.Vertical;
import com.business.starter.ui.util.LumoStyles;
import com.business.starter.ui.util.UIUtils;

public class DetailsDrawerFooter extends FlexBoxLayout {

	private Button save;
	private Button reset;
	private Button delete;

	public DetailsDrawerFooter() {
		setBackgroundColor(LumoStyles.Color.Contrast._5);
		setPadding(Horizontal.RESPONSIVE_L, Vertical.S);
		setSpacing(Right.S);
		setWidthFull();

		save = UIUtils.createPrimaryButton("Save", VaadinIcon.EDIT);
		save.setEnabled(false);
		delete = UIUtils.createErrorPrimaryButton("Delete", VaadinIcon.TRASH);
		delete.setEnabled(false);
		reset = UIUtils.createTertiaryButton("Reset", VaadinIcon.REFRESH);
		add(save, delete, reset);
	}

	public void saveSetEnabled(boolean set) {
		save.setEnabled(set);
	}

	public void deleteSetEnabled(boolean set) { delete.setEnabled(set); }

	public Registration addSaveListener(
			ComponentEventListener<ClickEvent<Button>> listener) {
		return save.addClickListener(listener);
	}

	public Registration addResetListener(
			ComponentEventListener<ClickEvent<Button>> listener) {
		return reset.addClickListener(listener);
	}

	public Registration addDeleteListener(
			ComponentEventListener<ClickEvent<Button>> listener) {
		return delete.addClickListener(listener);
	}

}
